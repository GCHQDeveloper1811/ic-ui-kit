import { Meta, Description, Canvas, Story } from "@storybook/addon-docs";
import readme from "./readme.md";
import { html } from "lit-html";

<Meta
  title="Web Components/Pagination Bar"
  component="ic-pagination-bar"
  parameters={{
    componentAPI: {
      data: readme,
    },
  }}
/>

# [Canary]: Pagination Bar

Use the pagination bar when large amounts of content are split across multiple pages and various pagination options are required.

There is one required attribute for the pagination bar:

- total-items: `number`

Click the 'Component API' tab to view all the available attributes, events and slots for pagination bar.

To use the pagination bar component, import `@ukic/canary-web-components` into your application.

### Basic

A basic example using the `total-items`.

<Canvas withSource="none">
  {/* prettier-ignore */}
  <Story name="Basic" parameters={{ loki: { skip: true } }}>{html`<div style="height: 120px;"><ic-pagination-bar total-items="100"></ic-pagination-bar></div>`}</Story>
</Canvas>

#### Basic code example

```html
<ic-pagination-bar total-items="100"></ic-pagination-bar>
```

Pagination bar will display the number of pages out of the total number of pages as well as the `simple` pagination type.

By default, the items per page is set to 10. If the total items is greater than 100, the default items per page is set to 25.

### Items per page control

To display the items per page control, set the `show-items-per-page-control` attribute to `true`.

<Canvas withSource="none">
  <Story name="Items per page control" parameters={{ loki: { skip: true } }}>
    {html`<div style="height: 150px;">
      <ic-pagination-bar
        total-items="100"
        show-items-per-page-control="true"
      ></ic-pagination-bar>
    </div>`}
  </Story>
</Canvas>

#### Items per page control code example

```html
<ic-pagination-bar
  total-items="100"
  show-items-per-page-control="true"
></ic-pagination-bar>
```

The items per page control will display a dropdown with options to select the number of items to display per page. Customize the options by setting the `itemsPerPageOptions` property.
`itemsPerPageOptions` is an array of objects with `label` and `value` properties. If more than three options are provided, the dropdown will display the first three options and an 'All' option.

#### Items per page options code example

```html
<ic-pagination-bar
  total-items="100"
  show-items-per-page-control="true"
></ic-pagination-bar>
<script>
  const paginationBar = document.querySelector("ic-pagination-bar");
  paginationBar.itemsPerPageOptions = [
    { label: "50", value: "50" },
    { label: "100", value: "100" },
    { label: "250", value: "250" },
  ];
</script>
```

### Go to page control

To display the go to page control, set the `show-go-to-page-control` attribute to `true`. 'Go to page' allows the user to jump to a specific page. If the page number is invalid, the input will be styled in the `ic-status-error` colour with a tooltip detailing the error.

<Canvas withSource="none">
  <Story name="Go to page control" parameters={{ loki: { skip: true } }}>
    {html`<div style="height: 120px;">
      <ic-pagination-bar
        total-items="100"
        show-go-to-page-control="true"
      ></ic-pagination-bar>
    </div>`}
  </Story>
</Canvas>

#### Go to page control code example

```html
<ic-pagination-bar
  total-items="100"
  show-go-to-page-control="true"
></ic-pagination-bar>
```

### Pagination type

The pagination type can be set to two types:

- `simple`: [default]: Display the total number of pages and the current page number.
- `data`: Displays the total number of items and the items range.

The example belows uses the `data` pagination type. The range is updated when the page is changed.

<Canvas withSource="none">
  <Story name="Data pagination type" parameters={{ loki: { skip: true } }}>
    {html`<div style="height: 150px;">
      <ic-pagination-bar
        total-items="100"
        show-items-per-page-control="true"
        show-go-to-page-control="true"
        pagination-type="data"
      ></ic-pagination-bar>
    </div>`}
  </Story>
</Canvas>

#### Pagination type code example

```html
<ic-pagination-bar
  total-items="100"
  show-items-per-page-control="true"
  show-go-to-page-control="true"
  pagination-type="data"
></ic-pagination-bar>
```

'Items' can be changed to a custom label by setting the `items-label` attribute. Set `item-label` with a capitalized singular noun.

#### Item label code example

```html
<ic-pagination-bar
  total-items="100"
  show-items-per-page-control="true"
  show-go-to-page-control="true"
  pagination-type="data"
  item-label="Image"
></ic-pagination-bar>
```

### Pagination control

The pagination control can be set to two types:

- `simple`: [default]: Display the current page as a label with back and next buttons.
- `complex`: Displays all the page numbers as buttons with back and next buttons.

The `complex` pagination control is useful when there are many pages to navigate through.

<Canvas withSource="none">
  <Story name="Pagination control type" parameters={{ loki: { skip: true } }}>
    {html`<div style="height: 150px;">
      <ic-pagination-bar
        total-items="100"
        show-items-per-page-control="true"
        pagination-control="complex"
      ></ic-pagination-bar>
    </div>`}
  </Story>
</Canvas>

#### Pagination control type code example

```html
<ic-pagination-bar
  total-items="100"
  show-items-per-page-control="true"
  pagination-control="complex"
></ic-pagination-bar>
```

### Alignment

The pagination elements can be aligned to the `right` (default), `left` or `space-between`. The default alignment is right.

#### Alignment left

<Canvas withSource="none">
  <Story name="Alignment left" parameters={{ loki: { skip: true } }}>
    {html` <ic-pagination-bar
      total-items="100"
      alignment="left"
      show-items-per-page-control="true"
      show-go-to-page-control="true"
    ></ic-pagination-bar>`}
  </Story>
</Canvas>

#### Alignment left code example

```html
<ic-pagination-bar
  total-items="100"
  alignment="left"
  show-items-per-page-control="true"
  show-go-to-page-control="true"
></ic-pagination-bar>
```

#### Alignment space between

<Canvas withSource="none">
  <Story name="Alignment space between" parameters={{ loki: { skip: true } }}>
    {html` <ic-pagination-bar
      total-items="100"
      alignment="space-between"
      show-items-per-page-control="true"
      show-go-to-page-control="true"
    ></ic-pagination-bar>`}
  </Story>
</Canvas>

#### Alignment space between code example

```html
<ic-pagination-bar
  total-items="100"
  alignment="space-between"
  show-items-per-page-control="true"
  show-go-to-page-control="true"
></ic-pagination-bar>
```

### Appearance

The background colour of the pagination bar can be customized by adding a background colour to the parent element. The `appearance` attribute can be set to `light` or `dark` to change the appearance of the pagination bar labels.

<Canvas withSource="none">
  <Story name="Appearance" parameters={{ loki: { skip: true } }}>
    {html`<div style="display: flex; flex-direction: column; gap: 8px;">
      <div style="background-color: var(--ic-architectural-black)">
        <ic-pagination-bar
          total-items="100"
          appearance="light"
          show-items-per-page-control="true"
          show-go-to-page-control="true"
        ></ic-pagination-bar>
      </div>
      <div style="background-color: var(--ic-status-info-contrast)">
        <ic-pagination-bar
          total-items="100"
          appearance="dark"
          show-items-per-page-control="true"
          show-go-to-page-control="true"
        ></ic-pagination-bar>
      </div>
    </div>`}
  </Story>
</Canvas>

#### Appearance code example

```html
<div style="background-color: var(--ic-architectural-black)">
  <ic-pagination-bar
    total-items="100"
    appearance="light"
    show-items-per-page-control="true"
    show-go-to-page-control="true"
  ></ic-pagination-bar>
</div>

<div style="background-color: var(--ic-status-info-contrast)">
  <ic-pagination-bar
    total-items="100"
    appearance="dark"
    show-items-per-page-control="true"
    show-go-to-page-control="true"
  ></ic-pagination-bar>
</div>
```

### Hide items per page label

If the pagination bar becomes clutted due to the number of pagination elements displayed, the items per page label can be hidden by setting the `hide-items-per-page` attribute to `true`.

<Canvas withSource="none">
  <Story name="Hide items per page" parameters={{ loki: { skip: true } }}>
    {html`<div style="background-color: var(--ic-architectural-100)">
      <ic-pagination-bar
        total-items="100"
        appearance="dark"
        hide-items-per-page-label
        show-items-per-page-control="true"
        show-go-to-page-control="true"
      ></ic-pagination-bar>
    </div>`}
  </Story>
</Canvas>

#### Hide items per page label code example

```html
<div style="background-color: var(--ic-architectural-100)">
  <ic-pagination-bar
    total-items="100"
    appearance="dark"
    hide-items-per-page-label
    show-items-per-page-control="true"
    show-go-to-page-control="true"
  ></ic-pagination-bar>
</div>
```
